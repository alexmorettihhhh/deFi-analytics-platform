# Документация API для платформы DeFi Analytics

## Обзор

**DeFi Analytics Platform** предоставляет API для анализа данных DeFi и отправки торговых сигналов в реальном времени. Он поддерживает несколько блокчейнов (Ethereum, Polygon, BSC, Solana и другие), позволяя пользователям отслеживать и взаимодействовать с транзакциями в децентрализованных финансовых системах и смарт-контрактами.

---

## **Base URL**

- Базовый URL для API:

```https://api.defi-analytics-platform.com/v1```

## **Аутентификация**

- Для работы с API необходимо использовать **API-ключ**. Для аутентификации запросов нужно передавать ваш API-ключ в заголовке `Authorization`.

- Пример: `Authorization: Bearer YOUR_API_KEY`


---

## Доступные Эндпоинты

---

### 1. **Получить Торговый Сигнал**

#### Эндпоинт: `/signal`

**Метод**: `GET`

**Описание**: Этот эндпоинт позволяет пользователям получить последние торговые сигналы на основе рыночных данных.

**Параметры запроса**:
- `pair` (string) — Торговая пара, по которой запрашивается сигнал (например, `ETH-USDT`).
- `threshold` (float) — Порог изменения цены для генерации торгового сигнала. По умолчанию `5.0` (5%).

**Ответ**:
```json
{
  "signal": "Buy ETH",
  "pair": "ETH-USDT",
  "threshold": 5.0,
  "timestamp": "2025-02-09T14:23:00Z"
}
```

### 2. Получить Баланс

- Эндпоинт: `/balance`
- Метод: `GET`
- Описание: Этот эндпоинт возвращает текущий баланс указанного адреса на выбранном блокчейне.
- Параметры запроса:
`address (string) — Адрес кошелька (например, 0x1234567890abcdef...).`
`blockchain (string) — Блокчейн-сеть (например, ethereum, polygon, bsc).`

#### Ответ:
```json
{
  "address": "0x1234567890abcdef...",
  "balance": "12345.6789",
  "currency": "USDT"
}
```
### 3. Получить Данные Блокчейна

Эндпоинт: `/blockchain-data`
Метод: `GET`

- Описание: Этот эндпоинт возвращает аналитические данные для выбранного блокчейна, включая объем транзакций и тренды.

#### Параметры запроса:

`blockchain` (string) — Блокчейн для анализа (например, `ethereum`, `polygon`).

#### Ответ:
```json
{
  "blockchain": "ethereum",
  "data": {
    "total_transactions": 1234567,
    "total_volume": "5000000",
    "active_addresses": 12000
  }
}
```
### 4. Получить События Из Смарт-Контракта

- Эндпоинт: `/events`
- Метод: `GET`

- Описание: Этот эндпоинт извлекает события (логи) из указанного смарт-контракта на выбранном блокчейне.

- Параметры запроса:

`contract_address` (string) — Адрес смарт-контракта.
`blockchain` (string) — Блокчейн (например, `ethereum`, `polygon`, `bsc`).
`from_block` (number) — Начальный блок для извлечения событий (необязательный).
`to_block` (number) — Конечный блок для извлечения событий (необязательный).
#### Ответ:
```json
{
  "events": [
    {
      "event_type": "Transfer",
      "data": "0xabcdef123456...",
      "block_number": 1234567
    },
    {
      "event_type": "Approval",
      "data": "0xabcdef987654...",
      "block_number": 1234568
    }
  ]
}
```
### 5. Отправить Транзакцию

- Эндпоинт: `/transaction`
- Метод: `POST`

- Описание: Этот эндпоинт позволяет отправить транзакцию в смарт-контракт (например, вызвать функцию контракта для взаимодействия).

- Параметры тела:
-  `from_address` (string) — Адрес отправителя транзакции.
- `to_address` (string) — Адрес смарт-контракта.
- `private_key` (string) — Приватный ключ отправителя для подписания транзакции.
- `amount` (number) — Сумма токенов для отправки.
- `function` (string) — Название функции контракта (например,`transfer`, `approve`).
#### Ответ:

```json
{
  "transaction_hash": "0xabcdef123456...",
  "status": "success",
  "message": "Transaction sent successfully"
}
```

### 6. Подписка на События

- Эндпоинт: `/subscribe`
- Метод: `POST`

- Описание: Этот эндпоинт позволяет пользователям подписываться на события в реальном времени для определенного смарт-контракта.

- Параметры тела:

- `contract_address` (string) — Адрес смарт-контракта.
- `event_type` (string) — Тип события, на который нужно подписаться (например, `Transfer`, `Approval`).
 #### Ответ:
```json
{
  "status": "subscribed",
  "message": "Subscribed to events successfully"
}
```
### Ошибки

- Если произошла ошибка, API вернет стандартный ответ об ошибке.

Пример:
```json
{
  "error": {
    "code": 400,
    "message": "Invalid address format"
  }
}
```

### Лимитирование Запросов
- API использует лимитирование для предотвращения злоупотреблений. Каждый пользователь может сделать до 1000 запросов в час. Если лимит превышен, будет возвращен ответ `429 Too Many Requests.`

#### Пример:

```json
{
  "error": {
    "code": 429,
    "message": "Rate limit exceeded"
  }
}
```
### Заключение
- Это API позволяет вам интегрироваться с DeFi Analytics Platform, анализировать данные блокчейнов, получать торговые сигналы, отслеживать смарт-контракты и взаимодействовать с децентрализованными финансовыми платформами. Вы можете легко расширять возможности платформы, - используя предоставленные эндпоинты для получения и отправки данных в реальном времени.


